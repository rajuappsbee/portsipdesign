<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PortGO</title>
  <link rel="stylesheet" href="css/style.css" type="text/css" >
  <link rel="icon" type="image/png" href="images/favicon.png" />
</head>
<body id="body" class="bg01">
  <!-- Enable debug module -->
  <!-- Set debug -->
  <script>
    localStorage.setItem("debug", "*");
  </script>
  <!-- React.js Sessions rendering -->

  <div id="top-bar">

    <div class="description">
      <p> <a href="http://www.portsip.com">PortGO</a>&nbsp;base on JsSIP</p>
    </div>
    <div id="call-invitation">
      <a href="#">invite others to call you!</a>
    </div>
  </div>

  <div id="login-full-background"></div>

  <div id="login-box">
    <div class="logo"></div>

    <form id="login-form" action="/">
      <label>Sip Username<!--span class="description"><a href="#" class="balloon display_name"></a></span--></label>
      <input id="display_name" tabindex="1" type="text"/>

      <label>SIP password<!--a href="#" class="balloon sip_password"></a--></label>
      <input id="sip_password" tabindex="2" type="password"/>
      <label>SIP Domain</label>
      <!-- <span class="description"><span class="ie">i.e. </span>sip:homer@your-domain.com</span><a href="#" class="balloon sip_uri"></a> -->
      <input id="sip_uri" tabindex="2" type="hidden" />
      <select name="" id="sip_uri_select" tabindex="4" >
      </select>
      <label>WS URI <!--span class="description"><a href="#" class="balloon ws_uri"></a--></label>
      <input id="ws_servers" tabindex="4" type="hidden"/>
      <select name="" id="ws_servers_select" tabindex="3" >
      </select>
      <input type="submit" value="Login" class="submit"/>
    </form>

    <form id="login-form-from-invitation" action="/">
      <label>Write your name and press Enter</label>
      <input class="display_name" type="text"/>
      <input type="submit" style="position: absolute; left: -9999px; width: 1px; height: 1px;"/>
    </form>

    <div id="advanced-settings-link">
      <a href="#">advanced settings</a>
    </div>

    <div id="advanced-settings">
      <div class="close"></div>
      <p class="link-jssip-doc">Read the documentation of the advanced settings <a href="http://jssip.net/documentation/" target="_blank">here</a>.</p>

      <form id="advanced-settings-form" action="/">
        <table>
          <tr>
            <td class="label"><label>authorization_user</label></td>
            <td class="value"><input type="text" name="authorization_user"></td>
          </tr>
          <tr>
            <td class="label"><label>register</label></td>
            <td class="value"><input type="checkbox" name="register" checked></td>
          </tr>
          <tr>
            <td class="label"><label>register_expires</label></td>
            <td class="value"><input type="text" name="register_expires" value="600"></td>
          </tr>
          <tr>
            <td class="label"><label>registrar_server</label></td>
            <td class="value"><input type="text" name="registrar_server"></td>
          </tr>
          <tr>
            <td class="label"><label>no_answer_timeout</label></td>
            <td class="value"><input type="text" name="no_answer_timeout" value="60"></td>
          </tr>
          <tr>
            <td class="label"><label>session_timers</label></td>
            <td class="value"><input type="checkbox" name="session_timers" checked/></td>
          </tr>
          <tr>
            <td class="label"><label>peerconnection_config (use JSON)</label></td>
            <td class="value"><input type="text" name="peerconnection_config" value='{ "iceServers": [ {"urls": ["stun:stun4.l.google.com:19302"]} ], "gatheringTimeout": 2000 }'></td>
          </tr>
          <tr>
            <td class="label"><label>use_preloaded_route</label></td>
            <td class="value"><input type="checkbox" name="use_preloaded_route"></td>
          </tr>
          <tr>
            <td class="label"><label>connection_recovery_min_interval</label></td>
            <td class="value"><input type="text" name="connection_recovery_min_interval" value="2"></td>
          </tr>
          <tr>
            <td class="label"><label>connection_recovery_max_interval</label></td>
            <td class="value"><input type="text" name="connection_recovery_max_interval" value="30"></td>
          </tr>
          <tr>
            <td class="label"><label>hack_via_tcp</label></td>
            <td class="value"><input type="checkbox" name="hack_via_tcp"></td>
          </tr>
          <tr>
            <td class="label"><label>hack_via_ws</label></td>
            <td class="value"><input type="checkbox" name="hack_via_ws"></td>
          </tr>
          <tr>
            <td class="label"><label>hack_ip_in_contact</label></td>
            <td class="value"><input type="checkbox" name="hack_ip_in_contact"></td>
          </tr>
        </table>
        <input type="submit" style="position: absolute; left: -9999px; width: 1px; height: 1px;"/>
      </form>
    </div>

    <div id="Y_U_NO"><p></p></div>
  </div>

  <div id="phone-page">

    <div id="phone">

      <div class="status">
        <div id="conn-status">
          <span class="field">status: </span>
          <span class="value"></span>
        </div>
        <div style="display:none">
          <span class="field">enable video: </span>
          <input type="checkbox" id="enableVideo" checked/>
        </div>
        <!--
        <div>
          <span class="field">register: </span>
          <input type="checkbox" id="register"/>
        </div>
        <div>
          <span class="field">enable video: </span>
          <input type="checkbox" id="enableVideo" checked/>
        </div>
        <div>
          <span class="field">user: </span>
          <span class="value user"></span>
        </div>
        -->
      </div>

      <div class="controls">

        <div class="ws-disconnected"></div>

        <div class="dialbox">
          <input type="text" class="destination" value=""/>
          <div class="to">To:</div>
          <div class="dial-buttons">
            <div class="button call">call</div>
            <div class="line-separator"></div>
            <div class="button chat">chat</div>
          </div>
        </div>
<!--
        <div class="dialpad">
          <div class="line">
            <div class="button digit-1">1</div>
            <div class="button digit-2">2</div>
            <div class="button digit-3">3</div>
          </div>
          <div class="line-separator"></div>
          <div class="line">
            <div class="button digit-4">4</div>
            <div class="button digit-5">5</div>
            <div class="button digit-6">6</div>
          </div>
          <div class="line-separator"></div>
          <div class="line">
            <div class="button digit-7">7</div>
            <div class="button digit-8">8</div>
            <div class="button digit-9">9</div>
          </div>
          <div class="line-separator"></div>
          <div class="line">
            <div class="button digit-asterisk">*</div>
            <div class="button digit-0">0</div>
            <div class="button digit-pound">#</div>
          </div>
        </div>
<!-- .dialpad -->

      </div><!-- .controls -->
    </div><!-- #phone -->
    <div id="sessions"></div>
    <div id="webcam">
      <video id="remoteView" autoplay _hidden=true poster="images/logo.png"></video>
      <!--<video id="remoteView" autoplay
        src="http://shapeshed.com/examples/HTML5-video-element/video/320x240.ogg">
      </video>-->
      <video id="selfView" autoplay muted="true" _hidden=true></video>
      <!--<video id="selfView" autoplay
        src="http://shapeshed.com/examples/HTML5-video-element/video/320x240.ogg">
      </video>-->
    </div>
    <div id="ws_reconnect"></div>
    <div id="unregister_all"></div>
  </div><!-- phone-page -->
  <div class="popFix">
    <span>Current support Firefox、chrome、Opera</span>
  </div>
  <script src="js/jquery-2.1.4.min.js" type="text/javascript"></script>
  <script>
    (function($) {
      var Sys = {};
      var ua = navigator.userAgent.toLowerCase();
      var s;
      (s = ua.match(/rv:([\d.]+)\) like gecko/)) ? Sys.ie = s[1] :
      (s = ua.match(/ chrome\/[\d.]+ safari\/[\d.]+ edge\/[\d.]+/)) ? Sys.edge = 'edge' :
      (s = ua.match(/msie ([\d.]+)/)) ? Sys.ie = s[1] : (s = ua.match(/firefox\/([\d.]+)/)) ? Sys.firefox = s[1] :
      (s = ua.match(/chrome\/([\d.]+)/)) ? Sys.chrome = s[1] :
      (s = ua.match(/opera.([\d.]+)/)) ? Sys.opera = s[1] :
      (s = ua.match(/version\/([\d.]+).*safari/)) ? Sys.safari = s[1] : 0;
      if (Sys.ie || Sys.edge || Sys.safari) {
//        $(".popFix").show();
//        alert(111);
        window.location.href='eor.html';
        return false;
      }
    })($);

  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react-with-addons.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>
  <script src="js/sessions.jsx" type="text/jsx"></script>
  <script src="js/jquery.balloon.min.js" type="text/javascript"></script>
  <script src="js/parseuri.js" type="text/javascript"></script>
  <script src="js/init.js" type="text/javascript"></script>
  <script src="js/gui.js" type="text/javascript"></script>
  <script src="js/iscomposing.js" type="text/javascript"></script>
  <!-- Try to load js/custom.js file -->
  <script src="js/custom.js" type="text/javascript"></script>
  <script src="js/jssip.js" type="text/javascript"></script>
  <!-- Try to load rtcninja-temasys.js -->
  <script src="js/rtcninja-temasys.min.js" type="text/javascript"></script>
  <!-- If CustomJsSIP is set in js/custom.js file then load JsSIP from the URL in CustomJsSIP variable. -->
  <script src="js/init-data.js" type="text/javascript"></script>
  <script>

    if (window.rtcninjaTemasys) {
      rtcninjaTemasys({}, {},
              // alreadyInstalledCb
              function() {
                JsSIP.rtcninja({plugin: rtcninjaTemasys});
              },
              // needInstallCb
              function(data) {
                alert('WebRTC plugin required');
              },
              // notRequiredCb
              null
      );
    }
  </script>
</body>
</html>
